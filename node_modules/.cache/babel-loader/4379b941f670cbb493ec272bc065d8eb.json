{"ast":null,"code":"import _slicedToArray from \"/Users/mariannebourcier/werun/react-front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/mariannebourcier/werun/react-front-end/src/components/Map/DefaultMap.jsx\";\n\nimport React, { useEffect } from \"react\";\nimport GoogleMapReact from \"google-map-react\";\nimport Markers from \"./Markers\";\nimport { useRecoilState, useRecoilValue } from \"recoil\";\nimport { runsState } from \"../../hooks/useAppData\";\nimport \"../../styles/Map.css\";\nimport { userCoordinatesAtom } from \"../../hooks/userCoords\";\n\nvar DefaultMap = function DefaultMap(_ref) {\n  var center = _ref.center,\n      zoom = _ref.zoom;\n  var runs = useRecoilValue(runsState);\n\n  var _useRecoilState = useRecoilState(userCoordinatesAtom),\n      _useRecoilState2 = _slicedToArray(_useRecoilState, 2),\n      currentLocation = _useRecoilState2[0],\n      setCurrentLocation = _useRecoilState2[1];\n\n  var showMarkers = function showMarkers(runs) {\n    var runsArray = Object.values(runs);\n    return runsArray.map(function (run) {\n      return /*#__PURE__*/React.createElement(Markers, {\n        key: run.id,\n        id: run.id,\n        name: run.name,\n        description: run.name,\n        distance: run.distance,\n        date: run.date,\n        lat: run.latitude,\n        lng: run.longitude,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 17,\n          columnNumber: 7\n        }\n      });\n    });\n  };\n\n  var myKey = process.env.REACT_APP_MAP_API_KEY;\n  useEffect(function () {\n    function getLocation() {\n      navigator.geolocation.getCurrentPosition(function (position) {\n        var _position$coords = position.coords,\n            latitude = _position$coords.latitude,\n            longitude = _position$coords.longitude;\n        setCurrentLocation({\n          lat: latitude,\n          lng: longitude\n        });\n      });\n    }\n\n    getLocation();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"map\",\n    style: {\n      height: \"80vh\",\n      width: \"100%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(GoogleMapReact, {\n    bootstrapURLKeys: {\n      key: myKey\n    },\n    defaultCenter: {\n      lat: 43.6532,\n      lng: -79.3832\n    },\n    center: currentLocation,\n    defaultZoom: zoom,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Markers, {\n    lat: center.lat,\n    lng: center.lng,\n    id: \"Me\",\n    description: \"You are here!\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }), showMarkers(runs))));\n};\n\nexport default DefaultMap;","map":{"version":3,"names":["React","useEffect","GoogleMapReact","Markers","useRecoilState","useRecoilValue","runsState","userCoordinatesAtom","DefaultMap","center","zoom","runs","currentLocation","setCurrentLocation","showMarkers","runsArray","Object","values","map","run","id","name","distance","date","latitude","longitude","myKey","process","env","REACT_APP_MAP_API_KEY","getLocation","navigator","geolocation","getCurrentPosition","position","coords","lat","lng","height","width","key"],"sources":["/Users/mariannebourcier/werun/react-front-end/src/components/Map/DefaultMap.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport GoogleMapReact from \"google-map-react\";\nimport Markers from \"./Markers\";\nimport { useRecoilState, useRecoilValue } from \"recoil\";\nimport { runsState } from \"../../hooks/useAppData\";\nimport \"../../styles/Map.css\";\nimport { userCoordinatesAtom } from \"../../hooks/userCoords\";\n\nconst DefaultMap = ({ center, zoom }) => {\n  const runs = useRecoilValue(runsState);\n  const [currentLocation, setCurrentLocation] =\n    useRecoilState(userCoordinatesAtom);\n\n  const showMarkers = (runs) => {\n    const runsArray = Object.values(runs);\n    return runsArray.map((run) => (\n      <Markers\n        key={run.id}\n        id={run.id}\n        name={run.name}\n        description={run.name}\n        distance={run.distance}\n        date={run.date}\n        lat={run.latitude}\n        lng={run.longitude}\n      />\n    ));\n  };\n\n  const myKey = process.env.REACT_APP_MAP_API_KEY;\n  useEffect(() => {\n    function getLocation() {\n      navigator.geolocation.getCurrentPosition((position) => {\n        const { latitude, longitude } = position.coords;\n        setCurrentLocation({ lat: latitude, lng: longitude });\n      });\n    }\n    getLocation();\n  }, []);\n  return (\n    <>\n      <div className=\"map\" style={{ height: \"80vh\", width: \"100%\" }}>\n        <GoogleMapReact\n          bootstrapURLKeys={{\n            key: myKey,\n          }}\n          defaultCenter={{ lat: 43.6532, lng: -79.3832 }}\n          center={currentLocation}\n          defaultZoom={zoom}\n        >\n          <Markers\n            lat={center.lat}\n            lng={center.lng}\n            id=\"Me\"\n            description=\"You are here!\"\n          />\n          {showMarkers(runs)}\n        </GoogleMapReact>\n      </div>\n    </>\n  );\n};\n\nexport default DefaultMap;\n"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,cAAT,EAAyBC,cAAzB,QAA+C,QAA/C;AACA,SAASC,SAAT,QAA0B,wBAA1B;AACA,OAAO,sBAAP;AACA,SAASC,mBAAT,QAAoC,wBAApC;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,OAAsB;EAAA,IAAnBC,MAAmB,QAAnBA,MAAmB;EAAA,IAAXC,IAAW,QAAXA,IAAW;EACvC,IAAMC,IAAI,GAAGN,cAAc,CAACC,SAAD,CAA3B;;EADuC,sBAGrCF,cAAc,CAACG,mBAAD,CAHuB;EAAA;EAAA,IAEhCK,eAFgC;EAAA,IAEfC,kBAFe;;EAKvC,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACH,IAAD,EAAU;IAC5B,IAAMI,SAAS,GAAGC,MAAM,CAACC,MAAP,CAAcN,IAAd,CAAlB;IACA,OAAOI,SAAS,CAACG,GAAV,CAAc,UAACC,GAAD;MAAA,oBACnB,oBAAC,OAAD;QACE,GAAG,EAAEA,GAAG,CAACC,EADX;QAEE,EAAE,EAAED,GAAG,CAACC,EAFV;QAGE,IAAI,EAAED,GAAG,CAACE,IAHZ;QAIE,WAAW,EAAEF,GAAG,CAACE,IAJnB;QAKE,QAAQ,EAAEF,GAAG,CAACG,QALhB;QAME,IAAI,EAAEH,GAAG,CAACI,IANZ;QAOE,GAAG,EAAEJ,GAAG,CAACK,QAPX;QAQE,GAAG,EAAEL,GAAG,CAACM,SARX;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EADmB;IAAA,CAAd,CAAP;EAYD,CAdD;;EAgBA,IAAMC,KAAK,GAAGC,OAAO,CAACC,GAAR,CAAYC,qBAA1B;EACA5B,SAAS,CAAC,YAAM;IACd,SAAS6B,WAAT,GAAuB;MACrBC,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAAyC,UAACC,QAAD,EAAc;QAAA,uBACrBA,QAAQ,CAACC,MADY;QAAA,IAC7CX,QAD6C,oBAC7CA,QAD6C;QAAA,IACnCC,SADmC,oBACnCA,SADmC;QAErDZ,kBAAkB,CAAC;UAAEuB,GAAG,EAAEZ,QAAP;UAAiBa,GAAG,EAAEZ;QAAtB,CAAD,CAAlB;MACD,CAHD;IAID;;IACDK,WAAW;EACZ,CARQ,EAQN,EARM,CAAT;EASA,oBACE,uDACE;IAAK,SAAS,EAAC,KAAf;IAAqB,KAAK,EAAE;MAAEQ,MAAM,EAAE,MAAV;MAAkBC,KAAK,EAAE;IAAzB,CAA5B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,cAAD;IACE,gBAAgB,EAAE;MAChBC,GAAG,EAAEd;IADW,CADpB;IAIE,aAAa,EAAE;MAAEU,GAAG,EAAE,OAAP;MAAgBC,GAAG,EAAE,CAAC;IAAtB,CAJjB;IAKE,MAAM,EAAEzB,eALV;IAME,WAAW,EAAEF,IANf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAQE,oBAAC,OAAD;IACE,GAAG,EAAED,MAAM,CAAC2B,GADd;IAEE,GAAG,EAAE3B,MAAM,CAAC4B,GAFd;IAGE,EAAE,EAAC,IAHL;IAIE,WAAW,EAAC,eAJd;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EARF,EAcGvB,WAAW,CAACH,IAAD,CAdd,CADF,CADF,CADF;AAsBD,CArDD;;AAuDA,eAAeH,UAAf"},"metadata":{},"sourceType":"module"}