{"ast":null,"code":"import _slicedToArray from \"/Users/mariannebourcier/werun/react-front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/mariannebourcier/werun/react-front-end/src/components/Profile.js\";\n\n/* eslint-disable no-unused-vars */\nimport React, { useState, useEffect } from \"react\";\nimport Run from \"./Run\";\nimport Tab from \"react-bootstrap/Tab\";\nimport Tabs from \"react-bootstrap/Tabs\";\nimport Table from \"react-bootstrap/Table\";\nimport \"../styles/profile.css\";\nimport { userState, runnerRunsState, plannerRunsState } from \"../hooks/useAppData\";\nimport { useRecoilValue } from \"recoil\";\nimport useAppData from \"../hooks/useAppData\";\nexport default function Profile() {\n  var _this = this;\n\n  var user = useRecoilValue(userState);\n  var runnerRuns = useRecoilValue(runnerRunsState);\n  var plannerRuns = useRecoilValue(plannerRunsState);\n\n  var _useAppData = useAppData(),\n      joinRun = _useAppData.joinRun,\n      canJoinRun = _useAppData.canJoinRun;\n\n  var _useState = useState({\n    distance: 0,\n    minutes: 0,\n    count: 0\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      runData = _useState2[0],\n      setRunData = _useState2[1];\n\n  var showRunnersRuns = function showRunnersRuns(runs, type) {\n    var runsArray = Object.values(runs);\n    return runsArray.map(function (run) {\n      return /*#__PURE__*/React.createElement(Run, {\n        key: run.id,\n        run: run,\n        type: type,\n        join: joinRun,\n        canJoinRun: canJoinRun,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 35\n        }\n      });\n    });\n  };\n\n  var profilePicture = /*#__PURE__*/React.createElement(\"img\", {\n    className: \"profile-pic\",\n    src: \"https://images.pexels.com/photos/3042160/pexels-photo-3042160.jpeg\" // src=\"https://cdn-icons-png.flaticon.com/512/2335/2335153.png\"\n    ,\n    alt: \"icon-profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  });\n  useEffect(function () {\n    var distance = 0,\n        minutes = 0,\n        count = 0;\n\n    for (var key in runnerRuns) {\n      if (runnerRuns[key].future_run === false) {\n        distance += parseInt(runnerRuns[key].distance);\n        minutes += parseInt(runnerRuns[key].time);\n        count += 1;\n      }\n    }\n\n    setRunData({\n      distance: distance,\n      minutes: minutes,\n      count: count\n    });\n  }, [runnerRuns]);\n  return /*#__PURE__*/React.createElement(\"main\", {\n    className: \"profile-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"profile-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-welcome\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, \"Welcome!\"), user && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 22\n    }\n  }, user.name)), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, \"YOU HAVE:\"), /*#__PURE__*/React.createElement(Table, {\n    size: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, \"RUN FOR\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, \"COVERED\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, \"ATTENDED\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, runData.minutes, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"unit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 19\n    }\n  }, \"min\")), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, runData.distance, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"unit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 19\n    }\n  }, \"km\")), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, runData.count, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"unit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 19\n    }\n  }, \"runs\")))))), profilePicture), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"profile-stats\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Tabs, {\n    defaultActiveKey: \"attended\",\n    id: \"profile-tab\",\n    className: \"mb-3\",\n    fill: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Tab, {\n    eventKey: \"attended\",\n    title: \"Attended\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, runnerRuns && showRunnersRuns(runnerRuns, \"attended\")), /*#__PURE__*/React.createElement(Tab, {\n    eventKey: \"planned\",\n    title: \"Planned\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, plannerRuns && showRunnersRuns(plannerRuns, \"planned\")))));\n}","map":{"version":3,"names":["React","useState","useEffect","Run","Tab","Tabs","Table","userState","runnerRunsState","plannerRunsState","useRecoilValue","useAppData","Profile","user","runnerRuns","plannerRuns","joinRun","canJoinRun","distance","minutes","count","runData","setRunData","showRunnersRuns","runs","type","runsArray","Object","values","map","run","id","profilePicture","key","future_run","parseInt","time","name"],"sources":["/Users/mariannebourcier/werun/react-front-end/src/components/Profile.js"],"sourcesContent":["/* eslint-disable no-unused-vars */\nimport React, { useState, useEffect } from \"react\";\nimport Run from \"./Run\";\nimport Tab from \"react-bootstrap/Tab\";\nimport Tabs from \"react-bootstrap/Tabs\";\nimport Table from \"react-bootstrap/Table\";\nimport \"../styles/profile.css\";\nimport {\n  userState,\n  runnerRunsState,\n  plannerRunsState,\n} from \"../hooks/useAppData\";\nimport { useRecoilValue } from \"recoil\";\nimport useAppData from \"../hooks/useAppData\";\n\nexport default function Profile() {\n  const user = useRecoilValue(userState);\n  const runnerRuns = useRecoilValue(runnerRunsState);\n  const plannerRuns = useRecoilValue(plannerRunsState);\n  const { joinRun, canJoinRun } = useAppData();\n  const [runData, setRunData] = useState({ distance: 0, minutes: 0, count: 0 });\n\n  const showRunnersRuns = (runs, type) => {\n    const runsArray = Object.values(runs);\n    return runsArray.map((run) => <Run key={run.id} run={run} type={type} join={joinRun} canJoinRun={canJoinRun}/>);\n  };\n\n  const profilePicture = (\n    <img\n      className=\"profile-pic\"\n      src=\"https://images.pexels.com/photos/3042160/pexels-photo-3042160.jpeg\"\n      // src=\"https://cdn-icons-png.flaticon.com/512/2335/2335153.png\"\n      alt=\"icon-profile\"\n    ></img>\n  );\n\n  useEffect(() => {\n    let distance = 0,\n      minutes = 0,\n      count = 0;\n    for (const key in runnerRuns) {\n      if (runnerRuns[key].future_run === false) {\n        distance += parseInt(runnerRuns[key].distance);\n        minutes += parseInt(runnerRuns[key].time);\n        count += 1;\n      }\n    }\n    setRunData({ distance, minutes, count });\n  }, [runnerRuns]);\n\n  return (\n    <main className=\"profile-section\">\n      <section className=\"profile-header\">\n        <div className=\"profile-info\">\n          <div className=\"profile-welcome\">\n            <h1>Welcome!</h1>\n            {user && <p>{user.name}</p>}\n          </div>\n          <h4>YOU HAVE:</h4>\n          <Table size=\"sm\">\n            <thead>\n              <tr>\n                <th>RUN FOR</th>\n                <th>COVERED</th>\n                <th>ATTENDED</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>\n                  {runData.minutes}\n                  <span className=\"unit\">min</span>\n                </td>\n                <td>\n                  {runData.distance}\n                  <span className=\"unit\">km</span>\n                </td>\n                <td>\n                  {runData.count}\n                  <span className=\"unit\">runs</span>\n                </td>\n              </tr>\n            </tbody>\n          </Table>\n        </div>\n        {profilePicture}\n      </section>\n\n      <section className=\"profile-stats\">\n        <Tabs\n          defaultActiveKey=\"attended\"\n          id=\"profile-tab\"\n          className=\"mb-3\"\n          fill\n        >\n          <Tab eventKey=\"attended\" title=\"Attended\">\n            {runnerRuns && showRunnersRuns(runnerRuns, \"attended\")}\n          </Tab>\n          <Tab eventKey=\"planned\" title=\"Planned\">\n            {plannerRuns && showRunnersRuns(plannerRuns, \"planned\")}\n          </Tab>\n        </Tabs>\n      </section>\n    </main>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}